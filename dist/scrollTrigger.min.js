"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}var scrollTrigger=function(){function t(i){_classCallCheck(this,t),this.$initSettings={triggerClass:"scroll-trigger",scrolledClass:"is-scrolled",syncAttr:"data-sync",delayAttr:"data-delay",PositionBaseY:"top",PositionY:"50%",PositionBaseX:"left",PositionX:"0%"},this._setSetting(i,this.$initSettings),this.triggerY=this._convertPosition(this.PositionY),this.triggerX=this._convertPosition(this.PositionX),this._setMain()}return _createClass(t,[{key:"_setSetting",value:function(t,i){if(null!=t)for(var e in i)"object"===_typeof(i[e])||(void 0===t[e]?this[e]=i[e]:this[e]=t[e]);else for(var n in i)this[n]=i[n]}},{key:"_setMain",value:function(){var t=this,i=document.querySelectorAll(".".concat(this.triggerClass));window.addEventListener("scroll",(function(){i.forEach((function(i){t._main(i)}))})),window.addEventListener("load",(function(){i.forEach((function(i){t._main(i)}))}))}},{key:"_main",value:function(t){var i=this;if(!t.classList.contains(this.scrolledClass)){var e=t.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s=Math.floor(n.right)-50,o=Math.floor(n.bottom)-50;if(this._isReachX(e.left)||this._isReachY(e.top)||s<window.innerWidth&&o<window.innerHeight){var r=Number(t.getAttribute(this.delayAttr));null!=r&&""!==r&&NaN!==r?setTimeout((function(){t.classList.add(i.scrolledClass)}),r):t.classList.add(this.scrolledClass);var a=t.getAttribute(this.syncAttr);null!=a&&""!==a&&this._addClassSyncItems(a)}}}},{key:"_addClassSyncItems",value:function(t){var i=this,e=document.querySelectorAll("[".concat(this.syncAttr,'="').concat(t,'"]'));e.length&&e.forEach((function(t){var e=Number(t.getAttribute(i.delayAttr));null!=e&&""!==e&&NaN!==e?setTimeout((function(){t.classList.add(i.scrolledClass)}),e):t.classList.add(i.scrolledClass)}))}},{key:"_convertPosition",value:function(t){if(t.endsWith("%")){var i=t.slice(0,-1);return.01*Number(i)}if(t.endsWith("px")){var e=t.slice(0,-2);return Number(e)}return.5}},{key:"_isReachX",value:function(t){return t<(this.triggerX>1?this.triggerX:"bottom"===this.PositionBaseX?window.innerWidth*(1-this.triggerX):window.innerWidth*this.triggerX)}},{key:"_isReachY",value:function(t){return t<(this.triggerY>1?this.triggerY:"bottom"===this.PositionBaseY?window.innerHeight*(1-this.triggerY):window.innerHeight*this.triggerY)}}]),t}();